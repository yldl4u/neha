<!doctype html>
<html lang="bn">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Yldl4u — Fake Social Post Generator</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
:root{
    --bg:#071018; --panel:#0f1720; --glass: rgba(255,255,255,0.03);
    --neon:#00d4ff; --accent:#7fffd4; --muted:#9fb0bd;
}
*{box-sizing:border-box}
body{
    margin:0; padding:28px; min-height:100vh; background:
    radial-gradient(600px 300px at 10% 10%, rgba(0,212,255,0.03), transparent 8%),
    radial-gradient(500px 250px at 90% 90%, rgba(127,255,212,0.02), transparent 8%),
    linear-gradient(180deg,var(--bg), #04121a);
    color:#e6f4f7; font-family:Inter,system-ui,Arial; display:flex; gap:24px; align-items:flex-start; justify-content:center; flex-wrap:wrap;
}

.panel{
    width:420px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px; padding:18px;
    border:1px solid rgba(255,255,255,0.03); box-shadow: 0 12px 40px rgba(2,6,23,0.6); backdrop-filter: blur(6px);
}
h1{margin:0 0 8px 0; font-size:20px; color:var(--neon); letter-spacing:1px;}
p.lead{margin:0 0 14px 0; color:var(--muted); font-size:13px;}

label{display:block; font-size:13px; color:#cfeff2; margin-top:10px; margin-bottom:6px;}
input[type="text"], textarea, select {
    width:100%; padding:10px 12px; border-radius:10px; border:1px solid rgba(255,255,255,0.03); background:var(--glass); color:#dff; outline:none;
    font-size:14px;
}
textarea{min-height:90px; resize:vertical}
.row{display:flex; gap:8px;}
.small{font-size:13px; color:var(--muted)}

.btn{
    display:inline-flex; align-items:center; gap:8px; padding:10px 12px; border-radius:10px; border:none; cursor:pointer;
    background:linear-gradient(90deg,var(--neon),#00a8da); color:#001; font-weight:800; box-shadow: 0 8px 30px rgba(0,160,230,0.07);
}
.btn.ghost{ background:transparent; color:var(--neon); border:1px solid rgba(0,212,255,0.12); font-weight:700; box-shadow:none}

.controls{display:flex; gap:8px; margin-top:12px; flex-wrap:wrap}
.muted{color:var(--muted); font-size:13px; margin-top:8px}
.spacer{height:8px}

/* preview */
.stage{
    width:740px; min-height:560px; display:flex; align-items:center; justify-content:center;
}
.preview-wrap{
    width:580px; min-height:420px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005)); border-radius:12px; padding:12px; color:#000; position:relative;
    box-shadow: 0 18px 60px rgba(2,6,23,0.6);
}
.preview-title{font-size:13px; color:#7a7a7a; text-align:center; margin-bottom:8px}

footer.small{ margin-top:18px; font-size:12px; color:var(--muted); text-align:center }

/* responsive */
@media (max-width:1000px){
    body{padding:16px; flex-direction:column; align-items:center;}
    .stage{ width:100%; margin-top:24px;}
    .preview-wrap{ width:95%; min-height:auto; }
    .panel{ width:95%; margin-bottom:20px; }
    input, textarea, select{ font-size:13px; }
    .btn{ font-size:13px; padding:8px 10px;}
}
@media (max-width:600px){
    body{padding:12px;}
    .postContainer img{ width:100% !important; height:auto !important; }
}
</style>
</head>
<body>

<div class="panel">
<h1>Fake Social Post Generator</h1>
<p class="lead">Create mock social posts (Instagram / Twitter / Facebook / WhatsApp Status). Watermark "<strong>Yldl4u</strong>" will be embedded in downloads.</p>

<label>Template</label>
<select id="template">
  <option value="instagram">Instagram (square)</option>
  <option value="twitter">Twitter (wide)</option>
  <option value="facebook">Facebook (wide)</option>
  <option value="whatsapp">WhatsApp Status (vertical)</option>
</select>

<label>Profile photo</label>
<div class="row">
  <input id="profileFile" type="file" accept="image/*">
  <button class="btn ghost" id="useRandomAvatar">Random</button>
</div>

<label>Display name</label>
<input id="displayName" type="text" value="Neha Ladly">

<label>Handle / @username</label>
<input id="handle" type="text" value="@Yldl4u">

<label>Post image</label>
<div class="row">
  <input id="postFile" type="file" accept="image/*">
  <button class="btn ghost" id="useRandomImage">Random</button>
</div>

<label>Caption</label>
<textarea id="caption">Sunset mood ✨ #yldl4u</textarea>

<div class="row" style="margin-top:8px;">
  <div style="flex:1">
    <label>Likes</label>
    <input id="likes" type="text" value="12.3K">
  </div>
  <div style="width:120px">
    <label>Comments</label>
    <input id="comments" type="text" value="248">
  </div>
</div>

<div class="controls">
  <button class="btn" id="generateBtn">Generate Post</button>
  <button class="btn ghost" id="downloadBtn" style="display:none">Download JPEG</button>
  <button class="btn ghost" id="copyCaption">Copy Caption</button>
</div>

<div class="muted">Tip: Random images are Unsplash-like placeholders. Use generated images for mockups only.</div>
<div class="spacer"></div>
<footer class="small">Made with ❤️ by Yldl4u — Use responsibly.</footer>
</div>

<div class="stage">
<div class="preview-wrap">
  <div class="preview-title">Preview</div>
  <div id="postContainer" style="display:flex; justify-content:center"></div>
</div>
</div>

<script>
/* helper functions */
function loadImageFromFile(file){
  return new Promise((resolve,reject)=>{
    if(!file) return resolve(null);
    const r = new FileReader();
    r.onload = e => {
      const img = new Image();
      img.onload = ()=> resolve(img);
      img.onerror = ()=> reject(new Error('img load err'));
      img.src = e.target.result;
    };
    r.onerror = ()=> reject(new Error('file read err'));
    r.readAsDataURL(file);
  });
}
function loadImageFromUrl(url){
  return new Promise((resolve,reject)=>{
    const img = new Image();
    img.crossOrigin = "anonymous";
    img.onload = ()=> resolve(img);
    img.onerror = ()=> reject(new Error('img load err'));
    img.src = url;
  });
}

/* random placeholders */
const RANDOM_AVATARS = [
  'https://i.pravatar.cc/300?img=12',
  'https://i.pravatar.cc/300?img=47',
  'https://i.pravatar.cc/300?img=64',
  'https://i.pravatar.cc/300?img=88'
];
const RANDOM_IMAGES = [
  'https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?w=1200&q=80&auto=format&fit=crop',
  'https://images.unsplash.com/photo-1505682634904-d7c5a8b3f1b1?w=1200&q=80&auto=format&fit=crop',
  'https://images.unsplash.com/photo-1495567720989-cebdbdd97913?w=1200&q=80&auto=format&fit=crop',
  'https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=1200&q=80&auto=format&fit=crop'
];

let state = { avatarImg: null, postImg: null, template: 'instagram' };

/* DOM refs */
const profileFile = document.getElementById('profileFile');
const postFile = document.getElementById('postFile');
const useRandomAvatar = document.getElementById('useRandomAvatar');
const useRandomImage = document.getElementById('useRandomImage');
const generateBtn = document.getElementById('generateBtn');
const downloadBtn = document.getElementById('downloadBtn');
const copyCaptionBtn = document.getElementById('copyCaption');
const postContainer = document.getElementById('postContainer');
const templateSelect = document.getElementById('template');

/* events */
profileFile.addEventListener('change', async (e)=> {
  const f = e.target.files[0];
  state.avatarImg = await loadImageFromFile(f).catch(()=>null);
  renderPreview();
});
postFile.addEventListener('change', async (e)=> {
  const f = e.target.files[0];
  state.postImg = await loadImageFromFile(f).catch(()=>null);
  renderPreview();
});
useRandomAvatar.addEventListener('click', async ()=>{
  const url = RANDOM_AVATARS[Math.floor(Math.random()*RANDOM_AVATARS.length)];
  state.avatarImg = await loadImageFromUrl(url).catch(()=>null);
  renderPreview();
});
useRandomImage.addEventListener('click', async ()=>{
  const url = RANDOM_IMAGES[Math.floor(Math.random()*RANDOM_IMAGES.length)];
  state.postImg = await loadImageFromUrl(url).catch(()=>null);
  renderPreview();
});
templateSelect.addEventListener('change',(e)=>{ state.template = e.target.value; renderPreview(); });

/* generate post canvas */
generateBtn.addEventListener('click', async ()=>{
  const name = document.getElementById('displayName').value || 'Anonymous';
  const handle = document.getElementById('handle').value || '@anon';
  const caption = document.getElementById('caption').value || '';
  const likes = document.getElementById('likes').value || '0';
  const comments = document.getElementById('comments').value || '0';
  const template = document.getElementById('template').value;

  if(!state.postImg){
    state.postImg = await loadImageFromUrl(RANDOM_IMAGES[Math.floor(Math.random()*RANDOM_IMAGES.length)]);
  }
  if(!state.avatarImg){
    state.avatarImg = await loadImageFromUrl(RANDOM_AVATARS[Math.floor(Math.random()*RANDOM_AVATARS.length)]);
  }

  let cw=1080, ch=1080;
  if(template==='twitter'){ cw=1200; ch=675; }
  if(template==='facebook'){ cw=1200; ch=630; }
  if(template==='whatsapp'){ cw=1080; ch=1920; }

  const canvas = document.createElement('canvas');
  canvas.width = cw; canvas.height = ch;
  const ctx = canvas.getContext('2d');

  ctx.fillStyle = '#ffffff';
  ctx.fillRect(0,0,cw,ch);

  const pad = Math.round(cw * 0.04);
  const innerW = cw - pad*2;
  const avSize = Math.round(cw * 0.09);
  const avX = pad, avY = pad;

  ctx.save();
  ctx.beginPath();
  ctx.arc(avX + avSize/2, avY + avSize/2, avSize/2, 0, Math.PI*2);
  ctx.closePath();
  ctx.clip();
  const imgAv = state.avatarImg;
  const ar = imgAv.width / imgAv.height;
  let dw = avSize, dh = avSize, dx = avX, dy = avY;
  if(ar>1){ dw = avSize*ar; dx = avX-(dw-avSize)/2; } else { dh = avSize/ar; dy = avY-(dh-avSize)/2; }
  ctx.drawImage(imgAv, dx, dy, dw, dh);
  ctx.restore();

  ctx.fillStyle = '#111'; ctx.font = `${Math.round(cw*0.032)}px Roboto`; ctx.textBaseline='top';
  ctx.fillText(name, avX+avSize+12, avY+2);
  ctx.fillStyle = '#666'; ctx.font = `${Math.round(cw*0.02)}px Roboto`;
  ctx.fillText(handle, avX+avSize+12, avY+Math.round(cw*0.032)+8);

  ctx.fillStyle = '#666'; ctx.textAlign='right'; ctx.font = `${Math.round(cw*0.02)}px Roboto`;
  const timeStr = new Date().toLocaleString();
  ctx.fillText(timeStr.split(',')[0], cw-pad, avY+2);
  ctx.textAlign='start';

  const imageTop = avY + avSize + 16;
  let imageH = template==='whatsapp'? Math.round(ch*0.65): Math.round(ch*0.55);
  const imageW = innerW;
  const imageX = pad, imageY = imageTop;
  const imgPost = state.postImg;
  const arImg = imgPost.width/imgPost.height;
  const arBox = imageW/imageH;
  if(arImg>arBox){ dh=imageH; dw=dh*arImg; dx=imageX-(dw-imageW)/2; dy=imageY; } else { dw=imageW; dh=dw/arImg; dx=imageX; dy=imageY-(dh-imageH)/2; }
  ctx.drawImage(imgPost, dx, dy, dw, dh);

  let y = imageY + imageH + 12;
  ctx.fillStyle = '#111// Caption
  ctx.fillStyle = '#222'; 
  ctx.font = `${Math.round(cw*0.028)}px Roboto`;
  const captionLines = caption.split('\n');
  captionLines.forEach((line,i)=>{
    ctx.fillText(line, pad, y + i*Math.round(cw*0.036));
  });

  y += captionLines.length*Math.round(cw*0.036)+8;

  // Likes / Comments
  ctx.fillStyle = '#555';
  ctx.font = `${Math.round(cw*0.022)}px Roboto`;
  ctx.fillText(`❤️ ${likes}   💬 ${comments}`, pad, y);

  // Watermark
  ctx.save();
  ctx.globalAlpha=0.08;
  ctx.font=`bold ${Math.round(cw*0.08)}px Inter`;
  ctx.fillStyle='black';
  ctx.translate(cw/2,ch/2);
  ctx.rotate(-Math.PI/6);
  ctx.textAlign='center';
  ctx.fillText('Yldl4u',0,0);
  ctx.restore();

  // Render to preview
  postContainer.innerHTML='';
  const dataURL = canvas.toDataURL('image/png');
  const imgEl = new Image();
  imgEl.src = dataURL;
  imgEl.style.maxWidth='100%';
  imgEl.style.borderRadius='12px';
  postContainer.appendChild(imgEl);

  downloadBtn.style.display='inline-flex';
  downloadBtn.onclick = ()=> {
      const a = document.createElement('a');
      a.download = `post-${Date.now()}.jpeg`;
      a.href = canvas.toDataURL('image/jpeg',0.92);
      a.click();
  };
});

/* copy caption */
copyCaptionBtn.addEventListener('click',()=>{
  const caption = document.getElementById('caption').value;
  navigator.clipboard.writeText(caption);
  alert('Caption copied to clipboard!');
});

/* initial render */
renderPreview();
function renderPreview(){
  postContainer.innerHTML='';
  if(state.postImg){
    const img = new Image();
    img.src = state.postImg.src;
    img.style.maxWidth='100%';
    img.style.borderRadius='12px';
    postContainer.appendChild(img);
  }
}
</script>

</body>
</html>
